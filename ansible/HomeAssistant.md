# Home Assistant / Ansible

Simple Ansible playbook to install and configuration Kubernetes on Raspberry PI

## Usage

### Setup

        $ ansible-playbook -i inventory ha.yml

        PLAY [Setup Jarvis / Home Assistant] **********************************************************************************************************

        TASK [Gathering Facts] ************************************************************************************************************************
        ok: [192.168.1.32]

        TASK [ha : Install Python and tools] **********************************************************************************************************
        ok: [192.168.1.32] => (item=python3)
        ok: [192.168.1.32] => (item=python3-pip)
        ok: [192.168.1.32] => (item=python3-dev)
        ok: [192.168.1.32] => (item=python3-setuptools)
        ok: [192.168.1.32] => (item=gcc)

        TASK [ha : Install virtualenv] ****************************************************************************************************************
        ok: [192.168.1.32]

        TASK [ha : Create hass directory] *************************************************************************************************************
        changed: [192.168.1.32]

        PLAY RECAP ************************************************************************************************************************************
        192.168.1.32               : ok=4    changed=1    unreachable=0    failed=0

	TASK [ha : Configure systemd unit file] *******************************************************************************************************
	ok: [192.168.1.32]
	
	TASK [ha : just force systemd to reread configs] **********************************************************************************************
	ok: [192.168.1.32]
	
	TASK [ha : Set Home Assistant state using systemd] ********************************************************************************************
	changed: [192.168.1.32]
	
	PLAY RECAP ************************************************************************************************************************************
	192.168.1.32               : ok=7    changed=1    unreachable=0    failed=0



###Â Update

	$ ansible-playbook -i inventory update.yml --check

	PLAY [Update HypriotOS and Kubernetes components] *********************************************************************************************
	
	TASK [Gathering Facts] ************************************************************************************************************************
	ok: [192.168.1.26]
	ok: [192.168.1.20]
	ok: [local]
	
	TASK [update : Update APT package] ************************************************************************************************************
	changed: [192.168.1.26]
	changed: [192.168.1.20]
	changed: [local]
	
	TASK [update : Upgrade APT package] ***********************************************************************************************************
	changed: [192.168.1.26]
	changed: [192.168.1.20]
	changed: [local]
	
	PLAY RECAP ************************************************************************************************************************************
	192.168.1.20               : ok=3    changed=2    unreachable=0    failed=0   
	192.168.1.26               : ok=3    changed=2    unreachable=0    failed=0   
	local                      : ok=3    changed=2    unreachable=0    failed=0   


